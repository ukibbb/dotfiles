# Sets the default terminal type to support 256 colors for better visual rendering
# This ensures color schemes in vim, neovim, and other programs display correctly
set -g default-terminal "screen-256color"

# Changes the default prefix key from Ctrl-b to Ctrl-a for easier reach
# Ctrl-a is closer together on the keyboard making it faster to press
set -g prefix C-a

# Removes the default Ctrl-b prefix binding since we're using Ctrl-a instead
# This prevents conflicts and ensures Ctrl-b can be used for other purposes
unbind C-b

# Allows sending the prefix key (Ctrl-a) to applications running inside tmux
# Pressing Ctrl-a twice will send Ctrl-a to the underlying application
bind-key C-a send-prefix

# Removes the default % binding for horizontal split
# We're replacing it with a more intuitive keybinding
unbind %

# Creates a new vertical split (side-by-side panes) using the pipe symbol |
# The pipe visually represents a vertical line making it easy to remember
bind | split-window -h

# Removes the default " (double-quote) binding for vertical split
# We're replacing it with a more intuitive keybinding
unbind '"'

# Creates a new horizontal split (stacked panes) using the minus symbol -
# The minus visually represents a horizontal line making it easy to remember
bind - split-window -v

# Removes any existing binding for the 'r' key to avoid conflicts
# This ensures our custom reload binding works correctly
unbind r

# Binds 'r' key to reload the tmux configuration file without restarting tmux
# This allows you to apply changes to this config file immediately by pressing prefix + r
bind r source-file ~/.tmux.conf

# Binds prefix + j to resize the current pane downward by 5 cells
# The -r flag makes this repeatable, so you can hold j to continuously resize
bind -r j resize-pane -D 5

# Binds prefix + k to resize the current pane upward by 5 cells
# Repeatable binding allows continuous resizing without re-pressing the prefix
bind -r k resize-pane -U 5

# Binds prefix + l to resize the current pane to the right by 5 cells
# The repeatable flag enables smooth resizing by holding the key
bind -r l resize-pane -R 5

# Binds prefix + h to resize the current pane to the left by 5 cells
# These hjkl bindings mirror vim navigation for intuitive pane resizing
bind -r h resize-pane -L 5

# Binds prefix + m to toggle zoom on the current pane (maximize/restore)
# The -r flag allows you to quickly toggle zoom multiple times
# -Z flag zooms the pane to full screen or restores it to original size
bind -r m resize-pane -Z

# Enables mouse support in tmux for clicking, scrolling, and resizing panes
# This allows using the mouse to select panes, windows, and scroll through history
set -g mouse on

# Enables vi/vim-style key bindings in copy mode for familiar navigation
# This allows using vim movements (h,j,k,l) when scrolling through tmux history
set-window-option -g mode-keys vi

# In copy mode, pressing 'v' initiates visual selection like in vim
# This starts marking text for copying using vim-style visual mode
bind-key -T copy-mode-vi 'v' send -X begin-selection

# In copy mode, pressing 'y' copies the selected text to tmux's clipboard
# This yanks (copies) the selected text similar to vim's yank command
bind-key -T copy-mode-vi 'y' send -X copy-selection

# Removes the default behavior of exiting copy mode when mouse drag selection ends
# This keeps you in copy mode after selecting text with the mouse for additional operations
unbind -T copy-mode-vi MouseDragEnd1Pane

# Creates a custom session switcher using fzf (fuzzy finder)
# Prefix + Ctrl-j opens a new window showing all sessions except the current one
# You can fuzzy search and select a session to switch to instantly
# The command: lists sessions, removes metadata, excludes current session, pipes to fzf, then switches
bind C-j new-window -n "session-switcher" "tmux list-sessions | sed -E 's/:.*$//' | grep -v \"^$(tmux display-message -p '#S')\$\" | fzf --reverse | xargs tmux switch-client -t"

# Loads the tmux plugin manager (tpm) which manages tmux plugins
# This is the core plugin that enables installing and loading other plugins
set -g @plugin 'tmux-plugins/tpm'

# Loads the tmux-fzf plugin which provides fuzzy finding capabilities within tmux
# This adds fuzzy search for windows, sessions, commands, and more
set -g @plugin 'sainnhe/tmux-fzf'

# Loads vim-tmux-navigator plugin for seamless navigation between tmux panes and vim splits
# Allows using Ctrl+h/j/k/l to navigate between vim splits and tmux panes without switching modes
# This creates a unified navigation experience across vim and tmux
set -g @plugin 'christoomey/vim-tmux-navigator'

# Initializes the tmux plugin manager and loads all configured plugins
# This line must stay at the bottom of the config file to properly load plugins
# It runs the tpm script which installs and sources all plugins listed above
run '~/.tmux/plugins/tpm/tpm'
